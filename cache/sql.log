2018.09.20 11:59:41:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 11:59:41:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 11:59:41:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 11:59:41:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 11:59:41:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 11:59:41:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 11:59:41:
--------------------------------
SELECT * FROM categories ORDER BY level;  -- %QUERY_CACHABLE
--------------------------------
2018.09.20 11:59:41:
--------------------------------
SELECT 
	users.id as "user.id",
	users.login as "user.login",
	users.email as "user.email",
	users.group_id as "user.group_id"
FROM users as users 
WHERE users.id = 1
ORDER by users.id; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 11:59:42:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 11:59:42:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 11:59:42:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 11:59:43:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 11:59:43:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 11:59:43:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 11:59:46:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 11:59:46:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 11:59:46:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 11:59:47:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 11:59:47:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 11:59:47:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 11:59:51:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 11:59:51:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 11:59:51:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 11:59:51:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id = 1 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 11:59:51:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id = 1 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 11:59:51:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 12:00:03:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 12:00:03:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 12:00:03:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 12:00:03:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 4 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 12:00:03:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 4 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 12:00:03:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (4) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 12:00:15:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 12:00:15:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 12:00:15:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 12:00:15:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 12:00:15:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 12:00:15:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 12:00:16:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 12:00:16:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 12:00:16:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 12:00:16:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 12:00:16:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 12:00:16:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 12:00:18:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 12:00:18:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 12:00:18:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 12:00:18:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 12:00:18:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 12:00:18:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 12:00:20:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 12:00:20:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 12:00:20:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 12:00:20:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 12:00:20:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 12:00:20:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 12:00:47:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 0
--------------------------------
2018.09.20 12:00:47:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 0
--------------------------------
2018.09.20 12:00:47:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 13:58:38:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 13:58:39:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 13:58:39:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 13:58:39:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 13:58:39:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 13:58:39:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 13:58:39:
--------------------------------
SELECT * FROM categories ORDER BY level;  -- %QUERY_CACHABLE
--------------------------------
2018.09.20 13:58:39:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 13:58:39:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 13:58:39:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 13:58:39:
--------------------------------
SELECT 
	users.id as "user.id",
	users.login as "user.login",
	users.email as "user.email",
	users.group_id as "user.group_id"
FROM users as users 
WHERE users.id = 1
ORDER by users.id; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 13:59:31:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 13:59:31:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 13:59:31:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 13:59:32:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 13:59:32:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 13:59:32:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:05:02:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:05:02:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:05:02:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:05:25:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:05:25:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:05:25:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:05:33:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:05:33:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:05:33:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:05:51:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:05:51:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:05:51:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:05:53:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:05:53:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:05:53:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:05:53:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 13 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:05:53:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 13 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:05:53:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:05:53:
--------------------------------
SELECT * FROM files WHERE md5 = 'e3fc5cea3153f5864423a48f617c93d0';  -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:05:54:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:05:54:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:05:54:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:05:54:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:05:54:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:05:54:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:06:12:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:06:12:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:06:12:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:06:13:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:06:13:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:06:13:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:06:14:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:06:14:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:06:14:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:06:14:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:06:14:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:06:14:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:06:15:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:06:15:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:06:15:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:06:15:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 4 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:06:15:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 4 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:06:15:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (4) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:06:16:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:06:16:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:06:16:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:06:16:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:06:16:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:06:16:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:06:28:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:06:28:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:06:28:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:06:30:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:06:30:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:06:30:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:08:47:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:08:47:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:08:47:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:08:50:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:08:50:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:08:50:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:08:52:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:08:52:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:08:52:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:08:58:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:08:58:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:08:58:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:09:02:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:09:02:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:09:02:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:09:51:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:09:51:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:09:51:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:13:41:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:13:41:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:13:41:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:13:45:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:13:45:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:13:45:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:13:45:
--------------------------------

            SELECT *
            FROM
                admin_menu
            WHERE
                id > 0
                AND
                id IN ( SELECT item_id FROM admin_menu_accesses WHERE group_id = 1 )
            ORDER by level, position;
--------------------------------
2018.09.20 14:13:45:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:13:46:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:13:46:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:13:46:
--------------------------------
SELECT pg_size_pretty(pg_database_size('cmska.org')) as size;
--------------------------------
2018.09.20 14:13:49:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:13:49:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:13:49:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:13:49:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:13:49:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:13:49:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:13:50:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:13:50:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:13:50:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:13:50:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.id = 13 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:13:50:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.id = 13 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:13:50:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:13:52:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:13:52:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:13:52:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:13:52:
--------------------------------
UPDATE posts SET "title" = 'Нова система завантажень!', "alt_title" = 'nova_sistema_zavantazhen', "descr" = '', "short_post" = 'В останні декілька днів завершено розробку модулів завантаження зображень/файлів до публікацій, чи... чого завгодно, система абсолютно ідентична для всіх частин сайту', "full_post" = '<p class=\"bb_p\">В останні декілька днів завершено розробку модулів завантаження зображень/файлів до публікацій, чи... чого завгодно, система абсолютно ідентична для всіх частин сайту :)</p>&#10;&#10;<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2018-09-18/21-47-13-e3b88107.png" alt="" title="" /></p>&#10;&#10;<p class=\"bb_p\">Варто зауважити декілька нюансів:</p>&#10;<p class=\"bb_p\">1. На перший погляд система дещо примітивна, але тут відсутні фрейми чи щось подібне... тільки сучасний AJAX і тільки ті технології, що працюють з CSP в режимі параноїка;</p>&#10;<p class=\"bb_p\">2. Всі зображення зберігаються тільки в PNG. Дослідження показали, що відмінність в розмірі між JPEG та PNG не суттєві між зображеннями до 1024px, а от в плані візуальної якості JPEG тихенько покурює десь в стороні;</p>&#10;<p class=\"bb_p\">3. Всі зображення перейменовуються в нову унікальну назву без можливості впливу на неї;</p>&#10;<p class=\"bb_p\">4. Завантажені файли (не зображення) автоматично шифруються й зберігаються в шифрованому вигляді, дешифрування здійснюється при завантаженні (приклад: [attach]e3fc5cea3153f5864423a48f617c93d0[/attach]);</p>&#10;<p class=\"bb_p\">5. Зображення додатково обробляються стороннім засобом "pngquant", що дозволяє максимально ефективно їх стискати. Ефективне стиснення зображень є досить важливою деталлю оскільки в подальшому впливає на швидкість завантаження сторінок сайту.</p>&#10;&#10;&#10;', "svector" = '', "keywords" = '', "posted" = '1', "fixed" = '0', "static" = '0', "category" = '1' WHERE id='13' RETURNING id;
--------------------------------
2018.09.20 14:16:06:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:16:06:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:16:06:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:16:06:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:16:06:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:16:06:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:16:07:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:16:07:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:16:07:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:16:07:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.id = 13 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:16:07:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.id = 13 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:16:07:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:19:55:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:19:55:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:19:55:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:19:56:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:19:56:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:19:56:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:19:59:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:19:59:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:19:59:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:20:08:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:20:08:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:20:08:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:20:08:
--------------------------------
UPDATE posts SET "title" = 'Нова система завантажень!', "alt_title" = 'nova_sistema_zavantazhen', "descr" = '', "short_post" = 'В останні декілька днів завершено розробку модулів завантаження зображень/файлів до публікацій, чи... чого завгодно, система абсолютно ідентична для всіх частин сайту&#10;&#10;<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2018-09-18/21-47-13-e3b88107.png" alt="" title="" /></p>', "full_post" = '<p class=\"bb_p\">В останні декілька днів завершено розробку модулів завантаження зображень/файлів до публікацій, чи... чого завгодно, система абсолютно ідентична для всіх частин сайту :)</p>&#10;&#10;<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2018-09-18/21-47-13-e3b88107.png" alt="" title="" /></p>&#10;&#10;<p class=\"bb_p\">Варто зауважити декілька нюансів:</p>&#10;<p class=\"bb_p\">1. На перший погляд система дещо примітивна, але тут відсутні фрейми чи щось подібне... тільки сучасний AJAX і тільки ті технології, що працюють з CSP в режимі параноїка;</p>&#10;<p class=\"bb_p\">2. Всі зображення зберігаються тільки в PNG. Дослідження показали, що відмінність в розмірі між JPEG та PNG не суттєві між зображеннями до 1024px, а от в плані візуальної якості JPEG тихенько покурює десь в стороні;</p>&#10;<p class=\"bb_p\">3. Всі зображення перейменовуються в нову унікальну назву без можливості впливу на неї;</p>&#10;<p class=\"bb_p\">4. Завантажені файли (не зображення) автоматично шифруються й зберігаються в шифрованому вигляді, дешифрування здійснюється при завантаженні (приклад: [attach]e3fc5cea3153f5864423a48f617c93d0[/attach]);</p>&#10;<p class=\"bb_p\">5. Зображення додатково обробляються стороннім засобом "pngquant", що дозволяє максимально ефективно їх стискати. Ефективне стиснення зображень є досить важливою деталлю оскільки в подальшому впливає на швидкість завантаження сторінок сайту.</p>&#10;&#10;&#10;', "svector" = '', "keywords" = '', "posted" = '1', "fixed" = '0', "static" = '0', "category" = '1' WHERE id='13' RETURNING id;
--------------------------------
2018.09.20 14:20:11:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:20:11:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:20:11:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:20:11:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:20:11:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:20:11:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:21:22:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:21:22:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:21:22:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:21:43:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:21:43:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:21:43:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:21:43:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:21:43:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:21:43:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:21:43:
--------------------------------
UPDATE posts SET "title" = 'Нова система завантажень!', "alt_title" = 'nova_sistema_zavantazhen', "descr" = '', "short_post" = 'В останні декілька днів завершено розробку модулів завантаження зображень/файлів до публікацій, чи... чого завгодно, система абсолютно ідентична для всіх частин сайту&#10;&#10;<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2018-09-18/21-47-13-e3b88107.png" alt="" title="" /></p>&#10;', "full_post" = '<p class=\"bb_p\">В останні декілька днів завершено розробку модулів завантаження зображень/файлів до публікацій, чи... чого завгодно, система абсолютно ідентична для всіх частин сайту :)</p>&#10;&#10;<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2018-09-18/21-47-13-e3b88107.png" alt="" title="" /></p>&#10;&#10;<p class=\"bb_p\">Варто зауважити декілька нюансів:</p>&#10;<p class=\"bb_p\">1. На перший погляд система дещо примітивна, але тут відсутні фрейми чи щось подібне... тільки сучасний AJAX і тільки ті технології, що працюють з CSP в режимі параноїка;</p>&#10;<p class=\"bb_p\">2. Всі зображення зберігаються тільки в PNG. Дослідження показали, що відмінність в розмірі між JPEG та PNG не суттєві між зображеннями до 1024px, а от в плані візуальної якості JPEG тихенько покурює десь в стороні;</p>&#10;<p class=\"bb_p\">3. Всі зображення перейменовуються в нову унікальну назву без можливості впливу на неї;</p>&#10;<p class=\"bb_p\">4. Завантажені файли (не зображення) автоматично шифруються й зберігаються в шифрованому вигляді, дешифрування здійснюється при завантаженні (приклад: [attach]e3fc5cea3153f5864423a48f617c93d0[/attach]);</p>&#10;<p class=\"bb_p\">5. Зображення додатково обробляються стороннім засобом "pngquant", що дозволяє максимально ефективно їх стискати. Ефективне стиснення зображень є досить важливою деталлю оскільки в подальшому впливає на швидкість завантаження сторінок сайту.</p>&#10;&#10;&#10;', "svector" = '', "keywords" = '', "posted" = '1', "fixed" = '0', "static" = '0', "category" = '1' WHERE id='13' RETURNING id;
--------------------------------
2018.09.20 14:22:15:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:22:15:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:22:15:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:22:15:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:22:15:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:22:15:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:22:17:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:22:17:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:22:17:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:22:18:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:22:18:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:22:18:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:22:36:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:22:36:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:22:36:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:22:37:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:22:37:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:22:37:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:22:43:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:22:43:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:22:43:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:22:43:
--------------------------------
UPDATE posts SET "title" = 'Нова система завантажень!', "alt_title" = 'nova_sistema_zavantazhen', "descr" = '', "short_post" = 'В останні декілька днів завершено розробку модулів завантаження зображень/файлів до публікацій, чи... чого завгодно, система абсолютно ідентична для всіх частин сайту&#10;&#10;<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2018-09-18/21-47-13-e3b88107.png" alt="" title="" /></p>&#10;', "full_post" = '<p class=\"bb_p\">В останні декілька днів завершено розробку модулів завантаження зображень/файлів до публікацій, чи... чого завгодно, система абсолютно ідентична для всіх частин сайту :)</p>&#10;&#10;<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2018-09-18/21-47-13-e3b88107.png" alt="" title="" /></p>&#10;&#10;<p class=\"bb_p\">Варто зауважити декілька нюансів:</p>&#10;<p class=\"bb_p\">1. На перший погляд система дещо примітивна, але тут відсутні фрейми чи щось подібне... тільки сучасний AJAX і тільки ті технології, що працюють з CSP в режимі параноїка;</p>&#10;<p class=\"bb_p\">2. Всі зображення зберігаються тільки в PNG. Дослідження показали, що відмінність в розмірі між JPEG та PNG не суттєві між зображеннями до 1024px, а от в плані візуальної якості JPEG тихенько покурює десь в стороні;</p>&#10;<p class=\"bb_p\">3. Всі зображення перейменовуються в нову унікальну назву без можливості впливу на неї;</p>&#10;<p class=\"bb_p\">4. Завантажені файли (не зображення) автоматично шифруються й зберігаються в шифрованому вигляді, дешифрування здійснюється при завантаженні (приклад: [attach]e3fc5cea3153f5864423a48f617c93d0[/attach]);</p>&#10;<p class=\"bb_p\">5. Зображення додатково обробляються стороннім засобом "pngquant", що дозволяє максимально ефективно їх стискати. Ефективне стиснення зображень є досить важливою деталлю оскільки в подальшому впливає на швидкість завантаження сторінок сайту.</p>&#10;&#10;&#10;', "svector" = '', "keywords" = '', "posted" = '1', "fixed" = '0', "static" = '0', "category" = '1' WHERE id='13' RETURNING id;
--------------------------------
2018.09.20 14:22:45:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:22:45:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:22:45:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:22:45:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:22:45:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:22:45:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:22:56:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:22:56:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:22:56:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:23:42:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:23:42:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:23:42:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:24:17:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:24:17:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:24:17:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:24:26:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:24:26:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:24:26:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:24:27:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:24:27:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:24:27:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:24:40:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:24:40:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:24:40:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:24:41:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:24:41:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:24:41:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:24:55:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:24:55:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:24:55:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:24:56:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:24:56:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:24:56:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:24:58:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:24:58:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:24:58:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:24:58:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:24:58:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:24:58:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:24:59:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:24:59:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:24:59:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:25:03:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:25:03:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:25:03:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:25:03:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:25:03:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:25:03:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:25:52:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:25:52:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:25:52:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:27:26:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:27:26:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:27:26:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:27:29:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:27:29:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:27:29:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:27:29:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.id = 13 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:27:29:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.id = 13 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:27:29:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:27:36:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:27:36:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:27:36:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:27:38:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:27:38:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:27:38:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:27:55:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:27:55:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:27:55:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:27:56:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:27:56:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:27:56:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:28:08:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:28:08:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:28:08:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:28:09:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:28:09:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:28:09:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:28:11:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:28:11:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:28:11:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:28:12:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:28:12:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:28:12:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:28:13:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:28:13:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:28:13:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:28:13:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 13 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:28:13:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 13 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:28:13:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:28:13:
--------------------------------
SELECT * FROM files WHERE md5 = 'e3fc5cea3153f5864423a48f617c93d0';  -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:28:17:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:28:17:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:28:17:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:28:17:
--------------------------------
SELECT * FROM files WHERE md5 = 'e3fc5cea3153f5864423a48f617c93d0';
--------------------------------
2018.09.20 14:28:20:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:28:20:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:28:20:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:28:42:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:28:42:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:28:42:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:28:43:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:28:43:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:28:43:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:28:43:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:28:43:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:28:43:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:28:44:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:28:44:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:28:44:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:28:44:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:28:44:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:28:44:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:28:50:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:28:50:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:28:50:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:29:10:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:29:10:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:29:10:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:29:25:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:29:25:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:29:25:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:29:25:
--------------------------------
UPDATE posts SET "title" = 'Нова система завантажень!', "alt_title" = 'nova_sistema_zavantazhen', "descr" = '', "short_post" = 'В останні декілька днів завершено розробку модулів завантаження зображень/файлів до публікацій, чи... чого завгодно, система абсолютно ідентична для всіх частин сайту&#10;&#10;<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2018-09-18/21-47-13-e3b88107.png" alt="" title="" /></p>&#10;', "full_post" = '<p class=\"bb_p\">В останні декілька днів завершено розробку модулів завантаження зображень/файлів до публікацій, чи... чого завгодно, система абсолютно ідентична для всіх частин сайту :)</p>&#10;&#10;<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2018-09-18/21-47-13-e3b88107.png" alt="" title="" /></p>&#10;&#10;<p class=\"bb_p\">Варто зауважити декілька нюансів:</p>&#10;<p class=\"bb_p\">1. На перший погляд система дещо примітивна, але тут відсутні фрейми чи щось подібне... тільки сучасний AJAX і тільки ті технології, що працюють з CSP в режимі параноїка;</p>&#10;<p class=\"bb_p\">2. Всі зображення зберігаються тільки в PNG. Дослідження показали, що відмінність в розмірі між JPEG та PNG не суттєві між зображеннями до 1024px, а от в плані візуальної якості JPEG тихенько покурює десь в стороні;</p>&#10;<p class=\"bb_p\">3. Всі зображення перейменовуються в нову унікальну назву без можливості впливу на неї;</p>&#10;<p class=\"bb_p\">4. Завантажені файли (не зображення) автоматично шифруються й зберігаються в шифрованому вигляді, дешифрування здійснюється при завантаженні (приклад: [attach]e3fc5cea3153f5864423a48f617c93d0[/attach]);</p>&#10;<p class=\"bb_p\">5. Зображення додатково обробляються стороннім засобом "pngquant", що дозволяє максимально ефективно їх стискати. Ефективне стиснення зображень є досить важливою деталлю оскільки в подальшому впливає на швидкість завантаження сторінок сайту.</p>', "svector" = '', "keywords" = '', "posted" = '1', "fixed" = '0', "static" = '0', "category" = '1' WHERE id='13' RETURNING id;
--------------------------------
2018.09.20 14:29:27:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:29:27:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:29:27:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:29:27:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:29:27:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:29:27:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:29:34:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:29:34:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:29:34:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:29:34:
--------------------------------
UPDATE posts SET "title" = 'Нова система завантажень!', "alt_title" = 'nova_sistema_zavantazhen', "descr" = '', "short_post" = 'В останні декілька днів завершено розробку модулів завантаження зображень/файлів до публікацій, чи... чого завгодно, система абсолютно ідентична для всіх частин сайту&#10;&#10;<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2018-09-18/21-47-13-e3b88107.png" alt="" title="" /></p>&#10;', "full_post" = '<p class=\"bb_p\">В останні декілька днів завершено розробку модулів завантаження зображень/файлів до публікацій, чи... чого завгодно, система абсолютно ідентична для всіх частин сайту :)</p>&#10;&#10;<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2018-09-18/21-47-13-e3b88107.png" alt="" title="" /></p>&#10;&#10;<p class=\"bb_p\">Варто зауважити декілька нюансів:</p>&#10;<p class=\"bb_p\">1. На перший погляд система дещо примітивна, але тут відсутні фрейми чи щось подібне... тільки сучасний AJAX і тільки ті технології, що працюють з CSP в режимі параноїка;</p>&#10;<p class=\"bb_p\">2. Всі зображення зберігаються тільки в PNG. Дослідження показали, що відмінність в розмірі між JPEG та PNG не суттєві між зображеннями до 1024px, а от в плані візуальної якості JPEG тихенько покурює десь в стороні;</p>&#10;<p class=\"bb_p\">3. Всі зображення перейменовуються в нову унікальну назву без можливості впливу на неї;</p>&#10;<p class=\"bb_p\">4. Завантажені файли (не зображення) автоматично шифруються й зберігаються в шифрованому вигляді, дешифрування здійснюється при завантаженні (приклад: [attach]e3fc5cea3153f5864423a48f617c93d0[/attach]);</p>&#10;<p class=\"bb_p\">5. Зображення додатково обробляються стороннім засобом "pngquant", що дозволяє максимально ефективно їх стискати. Ефективне стиснення зображень є досить важливою деталлю оскільки в подальшому впливає на швидкість завантаження сторінок сайту.</p>', "svector" = '', "keywords" = '', "posted" = '1', "fixed" = '0', "static" = '0', "category" = '1' WHERE id='13' RETURNING id;
--------------------------------
2018.09.20 14:29:51:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:29:51:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:29:51:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:29:51:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:29:51:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:29:51:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:30:35:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:30:35:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:30:35:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:30:37:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:30:37:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:30:37:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:31:05:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:31:05:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:31:05:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:31:06:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:31:06:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:31:06:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:31:20:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:31:20:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:31:20:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:31:20:
--------------------------------
UPDATE posts SET "title" = 'Нова система завантажень!', "alt_title" = 'nova_sistema_zavantazhen', "descr" = '', "short_post" = 'В останні декілька днів завершено розробку модулів завантаження зображень/файлів до публікацій, чи... чого завгодно, система абсолютно ідентична для всіх частин сайту&#10;&#10;<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2018-09-18/21-47-13-e3b88107.png" alt="" title="" /></p>', "full_post" = '<p class=\"bb_p\">В останні декілька днів завершено розробку модулів завантаження зображень/файлів до публікацій, чи... чого завгодно, система абсолютно ідентична для всіх частин сайту :)</p>&#10;&#10;<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2018-09-18/21-47-13-e3b88107.png" alt="" title="" /></p>&#10;&#10;<p class=\"bb_p\">Варто зауважити декілька нюансів:</p>&#10;<p class=\"bb_p\">1. На перший погляд система дещо примітивна, але тут відсутні фрейми чи щось подібне... тільки сучасний AJAX і тільки ті технології, що працюють з CSP в режимі параноїка;</p>&#10;<p class=\"bb_p\">2. Всі зображення зберігаються тільки в PNG. Дослідження показали, що відмінність в розмірі між JPEG та PNG не суттєві між зображеннями до 1024px, а от в плані візуальної якості JPEG тихенько покурює десь в стороні;</p>&#10;<p class=\"bb_p\">3. Всі зображення перейменовуються в нову унікальну назву без можливості впливу на неї;</p>&#10;<p class=\"bb_p\">4. Завантажені файли (не зображення) автоматично шифруються й зберігаються в шифрованому вигляді, дешифрування здійснюється при завантаженні (приклад: [attach]e3fc5cea3153f5864423a48f617c93d0[/attach]);</p>&#10;<p class=\"bb_p\">5. Зображення додатково обробляються стороннім засобом "pngquant", що дозволяє максимально ефективно їх стискати. Ефективне стиснення зображень є досить важливою деталлю оскільки в подальшому впливає на швидкість завантаження сторінок сайту.</p>', "svector" = '', "keywords" = '', "posted" = '1', "fixed" = '0', "static" = '0', "category" = '1' WHERE id='13' RETURNING id;
--------------------------------
2018.09.20 14:31:21:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:31:21:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:31:21:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:31:21:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:31:21:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:31:21:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:34:30:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:34:30:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:34:30:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:34:39:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:34:39:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:34:39:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:34:57:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:34:57:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:34:57:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:37:19:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:37:19:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:37:19:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:37:50:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:37:50:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:37:50:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:38:01:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:38:01:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:38:01:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:38:08:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:38:08:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:38:08:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:38:31:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:38:31:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:38:31:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:38:32:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:38:32:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:38:32:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:38:32:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 13 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:38:32:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 13 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:38:32:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:38:32:
--------------------------------
SELECT * FROM files WHERE md5 = 'e3fc5cea3153f5864423a48f617c93d0';  -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:38:37:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:38:37:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:38:37:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:38:37:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:38:37:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:38:37:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:39:11:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:39:11:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:39:11:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:39:12:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:39:12:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:39:12:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:39:27:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:39:27:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:39:27:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:39:30:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:39:30:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:39:30:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:41:59:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:41:59:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:41:59:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:43:04:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:43:04:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:43:04:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:43:12:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:43:12:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:43:12:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:43:12:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:43:12:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:43:12:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:43:22:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:43:22:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:43:22:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:43:22:
--------------------------------
UPDATE posts SET "title" = 'Нова система завантажень!', "alt_title" = 'nova_sistema_zavantazhen', "descr" = '', "short_post" = 'В останні декілька днів завершено розробку модулів завантаження зображень/файлів до публікацій, чи... чого завгодно, система абсолютно ідентична для всіх частин сайту&#10;&#10;<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2018-09-18/21-47-13-e3b88107.png" alt="" title="" /></p>&#10;<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2018-09-18/21-47-13-e3b88107.png" alt="" title="" /></p>', "full_post" = '<p class=\"bb_p\">В останні декілька днів завершено розробку модулів завантаження зображень/файлів до публікацій, чи... чого завгодно, система абсолютно ідентична для всіх частин сайту :)</p>&#10;&#10;<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2018-09-18/21-47-13-e3b88107.png" alt="" title="" /></p>&#10;&#10;<p class=\"bb_p\">Варто зауважити декілька нюансів:</p>&#10;<p class=\"bb_p\">1. На перший погляд система дещо примітивна, але тут відсутні фрейми чи щось подібне... тільки сучасний AJAX і тільки ті технології, що працюють з CSP в режимі параноїка;</p>&#10;<p class=\"bb_p\">2. Всі зображення зберігаються тільки в PNG. Дослідження показали, що відмінність в розмірі між JPEG та PNG не суттєві між зображеннями до 1024px, а от в плані візуальної якості JPEG тихенько покурює десь в стороні;</p>&#10;<p class=\"bb_p\">3. Всі зображення перейменовуються в нову унікальну назву без можливості впливу на неї;</p>&#10;<p class=\"bb_p\">4. Завантажені файли (не зображення) автоматично шифруються й зберігаються в шифрованому вигляді, дешифрування здійснюється при завантаженні (приклад: [attach]e3fc5cea3153f5864423a48f617c93d0[/attach]);</p>&#10;<p class=\"bb_p\">5. Зображення додатково обробляються стороннім засобом "pngquant", що дозволяє максимально ефективно їх стискати. Ефективне стиснення зображень є досить важливою деталлю оскільки в подальшому впливає на швидкість завантаження сторінок сайту.</p>', "svector" = '', "keywords" = '', "posted" = '1', "fixed" = '0', "static" = '0', "category" = '1' WHERE id='13' RETURNING id;
--------------------------------
2018.09.20 14:43:23:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:43:23:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:43:23:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:43:23:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:43:23:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:43:23:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:43:23:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:43:23:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:43:23:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:43:24:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:43:24:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:43:24:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:43:24:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:43:24:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:43:24:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:43:52:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:43:52:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:43:52:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:43:53:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:43:53:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:43:53:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:44:09:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:44:09:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:44:09:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:48:22:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:48:22:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:48:22:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:48:51:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:48:51:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:48:51:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:48:59:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:48:59:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:48:59:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:48:59:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 13 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:48:59:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 13 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:48:59:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:48:59:
--------------------------------
SELECT * FROM files WHERE md5 = 'e3fc5cea3153f5864423a48f617c93d0';  -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:49:00:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:49:00:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:49:00:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:49:00:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:49:00:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:49:00:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:49:02:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:49:02:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:49:02:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:49:03:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:49:03:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:49:03:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:49:03:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:49:03:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:49:03:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:49:41:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:49:41:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:49:41:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:50:46:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:50:46:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:50:46:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:50:52:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:50:52:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:50:52:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:51:29:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:51:29:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:51:29:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:52:08:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:52:08:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:52:08:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:52:08:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:52:08:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:52:08:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:52:08:
--------------------------------
SELECT * FROM images WHERE post_id=13 ORDER BY load_time DESC;
--------------------------------
2018.09.20 14:52:08:
--------------------------------
SELECT * FROM files WHERE post_id=13 ORDER BY load_time DESC;
--------------------------------
2018.09.20 14:54:04:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:54:04:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:54:04:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:54:04:
--------------------------------
SELECT COUNT(md5) as count FROM images WHERE md5='65df37e0210936dc2bf8d78ceded77db';
--------------------------------
2018.09.20 14:54:05:
--------------------------------
INSERT INTO images ("post_id", "md5", "user_id", "serv_name", "load_time", "is_mini") VALUES ('13', '65df37e0210936dc2bf8d78ceded77db', '1', '14-54-04-e04a209e.png', '2018-09-20 14:54:04', '0');
--------------------------------
2018.09.20 14:54:05:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:54:05:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:54:05:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:54:05:
--------------------------------
SELECT * FROM images WHERE post_id=13 ORDER BY load_time DESC;
--------------------------------
2018.09.20 14:54:05:
--------------------------------
SELECT * FROM files WHERE post_id=13 ORDER BY load_time DESC;
--------------------------------
2018.09.20 14:54:13:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:54:13:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:54:13:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:54:13:
--------------------------------
UPDATE posts SET "title" = 'Нова система завантажень!', "alt_title" = 'nova_sistema_zavantazhen', "descr" = '', "short_post" = 'В останні декілька днів завершено розробку модулів завантаження зображень/файлів до публікацій, чи... чого завгодно, система абсолютно ідентична для всіх частин сайту&#10;&#10;<img class="post_img" src="/uploads/images/2018-09-20/14-54-04-e04a209e.png" alt="" title="" />', "full_post" = '<p class=\"bb_p\">В останні декілька днів завершено розробку модулів завантаження зображень/файлів до публікацій, чи... чого завгодно, система абсолютно ідентична для всіх частин сайту :)</p>&#10;&#10;<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2018-09-18/21-47-13-e3b88107.png" alt="" title="" /></p>&#10;&#10;<p class=\"bb_p\">Варто зауважити декілька нюансів:</p>&#10;<p class=\"bb_p\">1. На перший погляд система дещо примітивна, але тут відсутні фрейми чи щось подібне... тільки сучасний AJAX і тільки ті технології, що працюють з CSP в режимі параноїка;</p>&#10;<p class=\"bb_p\">2. Всі зображення зберігаються тільки в PNG. Дослідження показали, що відмінність в розмірі між JPEG та PNG не суттєві між зображеннями до 1024px, а от в плані візуальної якості JPEG тихенько покурює десь в стороні;</p>&#10;<p class=\"bb_p\">3. Всі зображення перейменовуються в нову унікальну назву без можливості впливу на неї;</p>&#10;<p class=\"bb_p\">4. Завантажені файли (не зображення) автоматично шифруються й зберігаються в шифрованому вигляді, дешифрування здійснюється при завантаженні (приклад: [attach]e3fc5cea3153f5864423a48f617c93d0[/attach]);</p>&#10;<p class=\"bb_p\">5. Зображення додатково обробляються стороннім засобом "pngquant", що дозволяє максимально ефективно їх стискати. Ефективне стиснення зображень є досить важливою деталлю оскільки в подальшому впливає на швидкість завантаження сторінок сайту.</p>', "svector" = '', "keywords" = '', "posted" = '1', "fixed" = '0', "static" = '0', "category" = '1' WHERE id='13' RETURNING id;
--------------------------------
2018.09.20 14:54:14:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:54:14:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:54:14:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:54:14:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:54:15:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:54:15:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:54:15:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:54:15:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:54:15:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:54:19:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:54:19:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:54:19:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:54:19:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 13 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:54:19:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 13 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:54:19:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:54:19:
--------------------------------
SELECT * FROM files WHERE md5 = 'e3fc5cea3153f5864423a48f617c93d0';  -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:54:20:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:54:20:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:54:20:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:54:20:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:54:20:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:54:20:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:54:49:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:54:49:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:54:49:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:55:01:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:55:01:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:55:01:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:55:01:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:55:01:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:55:01:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:55:01:
--------------------------------
SELECT * FROM images WHERE post_id=13 ORDER BY load_time DESC;
--------------------------------
2018.09.20 14:55:01:
--------------------------------
SELECT * FROM files WHERE post_id=13 ORDER BY load_time DESC;
--------------------------------
2018.09.20 14:55:03:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:55:03:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:55:03:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:55:03:
--------------------------------
SELECT * FROM images WHERE md5='65df37e0210936dc2bf8d78ceded77db';
--------------------------------
2018.09.20 14:55:03:
--------------------------------
DELETE FROM images WHERE md5='65df37e0210936dc2bf8d78ceded77db';
--------------------------------
2018.09.20 14:55:03:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:55:03:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:55:03:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:55:03:
--------------------------------
SELECT * FROM images WHERE post_id=13 ORDER BY load_time DESC;
--------------------------------
2018.09.20 14:55:03:
--------------------------------
SELECT * FROM files WHERE post_id=13 ORDER BY load_time DESC;
--------------------------------
2018.09.20 14:55:08:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:55:08:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:55:08:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:55:10:
--------------------------------
SELECT COUNT(md5) as count FROM images WHERE md5='12ca4f6838aad637f328a9c1f242840f';
--------------------------------
2018.09.20 14:55:10:
--------------------------------
INSERT INTO images ("post_id", "md5", "user_id", "serv_name", "load_time", "is_mini") VALUES ('13', '12ca4f6838aad637f328a9c1f242840f', '1', '14-55-08-d735ac40.png', '2018-09-20 14:55:10', '0');
--------------------------------
2018.09.20 14:55:11:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:55:11:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:55:11:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:55:11:
--------------------------------
SELECT * FROM images WHERE post_id=13 ORDER BY load_time DESC;
--------------------------------
2018.09.20 14:55:11:
--------------------------------
SELECT * FROM files WHERE post_id=13 ORDER BY load_time DESC;
--------------------------------
2018.09.20 14:55:16:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:55:16:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:55:16:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:55:16:
--------------------------------
UPDATE posts SET "title" = 'Нова система завантажень!', "alt_title" = 'nova_sistema_zavantazhen', "descr" = '', "short_post" = 'В останні декілька днів завершено розробку модулів завантаження зображень/файлів до публікацій, чи... чого завгодно, система абсолютно ідентична для всіх частин сайту&#10;&#10;<img class="post_img" src="/uploads/images/2018-09-20/14-55-08-d735ac40.png" alt="" title="" />', "full_post" = '<p class=\"bb_p\">В останні декілька днів завершено розробку модулів завантаження зображень/файлів до публікацій, чи... чого завгодно, система абсолютно ідентична для всіх частин сайту :)</p>&#10;&#10;<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2018-09-18/21-47-13-e3b88107.png" alt="" title="" /></p>&#10;&#10;<p class=\"bb_p\">Варто зауважити декілька нюансів:</p>&#10;<p class=\"bb_p\">1. На перший погляд система дещо примітивна, але тут відсутні фрейми чи щось подібне... тільки сучасний AJAX і тільки ті технології, що працюють з CSP в режимі параноїка;</p>&#10;<p class=\"bb_p\">2. Всі зображення зберігаються тільки в PNG. Дослідження показали, що відмінність в розмірі між JPEG та PNG не суттєві між зображеннями до 1024px, а от в плані візуальної якості JPEG тихенько покурює десь в стороні;</p>&#10;<p class=\"bb_p\">3. Всі зображення перейменовуються в нову унікальну назву без можливості впливу на неї;</p>&#10;<p class=\"bb_p\">4. Завантажені файли (не зображення) автоматично шифруються й зберігаються в шифрованому вигляді, дешифрування здійснюється при завантаженні (приклад: [attach]e3fc5cea3153f5864423a48f617c93d0[/attach]);</p>&#10;<p class=\"bb_p\">5. Зображення додатково обробляються стороннім засобом "pngquant", що дозволяє максимально ефективно їх стискати. Ефективне стиснення зображень є досить важливою деталлю оскільки в подальшому впливає на швидкість завантаження сторінок сайту.</p>', "svector" = '', "keywords" = '', "posted" = '1', "fixed" = '0', "static" = '0', "category" = '1' WHERE id='13' RETURNING id;
--------------------------------
2018.09.20 14:55:17:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:55:17:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:55:17:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:55:17:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:55:17:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:55:17:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:55:21:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:55:21:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:55:21:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:55:21:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 13 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:55:21:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 13 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:55:21:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:55:21:
--------------------------------
SELECT * FROM files WHERE md5 = 'e3fc5cea3153f5864423a48f617c93d0';  -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:55:23:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:55:24:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:55:24:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:55:24:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:55:24:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:55:24:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:58:04:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:58:04:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:58:04:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:58:04:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:58:04:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:58:04:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:58:06:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:58:06:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:58:06:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:58:06:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.id = 4 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:58:06:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.id = 4 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:58:06:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (4) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:58:09:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:58:09:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:58:09:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:58:09:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:58:09:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:58:09:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:58:09:
--------------------------------
SELECT * FROM images WHERE post_id=4 ORDER BY load_time DESC;
--------------------------------
2018.09.20 14:58:09:
--------------------------------
SELECT * FROM files WHERE post_id=4 ORDER BY load_time DESC;
--------------------------------
2018.09.20 14:58:25:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:58:25:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:58:25:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:58:26:
--------------------------------
SELECT COUNT(md5) as count FROM images WHERE md5='1a8a494cc2eb36e360c5b62407453b16';
--------------------------------
2018.09.20 14:58:26:
--------------------------------
INSERT INTO images ("post_id", "md5", "user_id", "serv_name", "load_time", "is_mini") VALUES ('4', '1a8a494cc2eb36e360c5b62407453b16', '1', '14-58-25-1aa82125.png', '2018-09-20 14:58:26', '0');
--------------------------------
2018.09.20 14:58:26:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:58:26:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:58:26:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:58:26:
--------------------------------
SELECT * FROM images WHERE post_id=4 ORDER BY load_time DESC;
--------------------------------
2018.09.20 14:58:26:
--------------------------------
SELECT * FROM files WHERE post_id=4 ORDER BY load_time DESC;
--------------------------------
2018.09.20 14:58:38:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:58:39:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:58:39:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:58:39:
--------------------------------
UPDATE posts SET "title" = 'Оновлена версія після тривалої паузи', "alt_title" = 'onovlena_versiya_pislya_trivaloi_pauzi', "descr" = '', "short_post" = 'На сьогоднішній день ми стикнулись з проблемою, що притаманна мабуть переважній більшості не комерційних авторських розробок - вихід оновлень.&#10;&#10;<img class="post_img" src="/uploads/images/2018-09-20/14-58-25-1aa82125.png" alt="" title="" />', "full_post" = '<p class=\"bb_p\">На сьогоднішній день ми стикнулись з проблемою, що притаманна мабуть переважній більшості не комерційних авторських розробок - вихід оновлень.</p>&#10;<p class=\"bb_p\">Станом на час написання даної публікації, розробкою займаюсь я самотужки. І як можна побачити з хронології публікацій - цей рік видався не дуже продуктивним.</p>&#10;&#10;<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2018-09-18/21-26-14-f1cbda65.png" alt="" title="" /></p>&#10;&#10;<p class=\"bb_p\">Тим не менш, прогрес є! За минулий рік було реалізовано велику кількість базових класів після чого проведена їх ретельна оптимізація. Це досить важливо, оскільки частина класів отримує вхідні дані й вимагає їх ретельної фільтрації, до іншої ж частини висуваються досить жорстокі вимоги до швидкості відпрацювання.</p>&#10;<p class=\"bb_p\">Також "допиляна" частина адміністративної панелі і тепер зручніше створювати публікації. Але тут з''явилась проблема - мені перестав подобатись зовнішній вигляд адміністративної панелі, а саме меню навігації.</p>&#10;&#10;<p class=\"bb_p align_center\"><img class="post_img" src="/uploads/images/2018-09-18/21-28-56-cf1f5bbf.png" alt="" title="" /></p>', "svector" = '', "keywords" = '', "posted" = '1', "fixed" = '0', "static" = '0', "category" = '1' WHERE id='4' RETURNING id;
--------------------------------
2018.09.20 14:58:41:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:58:41:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:58:41:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 14:58:41:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:58:41:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 14:58:41:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:58:41:
--------------------------------
SELECT * FROM categories ORDER BY level;  -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:58:41:
--------------------------------
SELECT 
	users.id as "user.id",
	users.login as "user.login",
	users.email as "user.email",
	users.group_id as "user.group_id"
FROM users as users 
WHERE users.id = 1
ORDER by users.id; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 14:58:44:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 14:58:44:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 14:58:44:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:03:46:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:03:46:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:03:46:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:03:46:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:03:46:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:03:46:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 15:03:47:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:03:47:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:03:47:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:03:47:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.id = 3 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:03:47:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.id = 3 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:03:47:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (3) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 15:03:51:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:03:51:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:03:51:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:03:51:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:03:51:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:03:51:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:03:51:
--------------------------------
SELECT * FROM images WHERE post_id=3 ORDER BY load_time DESC;
--------------------------------
2018.09.20 15:03:51:
--------------------------------
SELECT * FROM files WHERE post_id=3 ORDER BY load_time DESC;
--------------------------------
2018.09.20 15:03:59:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:03:59:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:03:59:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:03:59:
--------------------------------
SELECT COUNT(md5) as count FROM images WHERE md5='93220405e38aa305e1e7280d21e0cdb8';
--------------------------------
2018.09.20 15:03:59:
--------------------------------
INSERT INTO images ("post_id", "md5", "user_id", "serv_name", "load_time", "is_mini") VALUES ('3', '93220405e38aa305e1e7280d21e0cdb8', '1', '15-03-59-a1f10908.png', '2018-09-20 15:03:59', '0');
--------------------------------
2018.09.20 15:03:59:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:03:59:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:03:59:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:03:59:
--------------------------------
SELECT * FROM images WHERE post_id=3 ORDER BY load_time DESC;
--------------------------------
2018.09.20 15:03:59:
--------------------------------
SELECT * FROM files WHERE post_id=3 ORDER BY load_time DESC;
--------------------------------
2018.09.20 15:04:03:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:04:03:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:04:03:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:04:04:
--------------------------------
UPDATE posts SET "title" = 'Навіщо ще одна CMS?', "alt_title" = 'navishho_shhe_odna_sistema_keruvannya_kontentom', "descr" = '', "short_post" = 'Це питання особисто мені задають всі хто вперше дізнається про розробку чогось нового. Особливо якщо людина знайома з поняттям CMS. Але все не так просто, як здається на перший погляд...&#10;&#10;<img class="post_img" src="/uploads/images/2018-09-20/15-03-59-a1f10908.png" alt="" title="" />', "full_post" = '<p class=\"bb_p\">За основу можна взяти будь-що, але видивитись переваги й недоліки можна тільки після детального аналізу роботи. Якщо глянути список доступних для використання CMS, то бере сумнів в тому, що ніхто раніше не реалізовував щось подібне. Але... Є нюанси!</p>&#10;<h2 class=\"bb_h2\">Content-Security-Policy</h2>&#10;<p class=\"bb_p\">CSP рекомендується консорціумом W3C. CSP намагаються використовувати web-гіганти, але натикаються на проблеми, що витікають з принципу базової розробки. А в сфері систем керування контентом ситуація значно гірша. Встановіть CSP на найвищий рівень:</p>&#10;<code class="bb_code">Content-Security-Policy&colon; default-src &apos;self&apos;&semi;</code>&#10;<p class=\"bb_p\">і ви не знайдете CMS, яка б адекватно працювала. Про роботу в режимі "production" мова не заводиться взагалі.</p>&#10;<h2 class=\"bb_h2\">PostgreSQL</h2>&#10;<p class=\"bb_p\">Більшість розробників CMS, з метою підтримки якомога більшої кількості СУБД, користуються лише тими функціональними можливостями, які притаманні всім СУБД. Інші ж реалізовують лише підтримку MySQL.</p>&#10;<p class=\"bb_p\">Мати в розпорядженні СУБД, але користуватись тільки можливостями занесення/зчитування даних - безглуздо.</p>&#10;<p class=\"bb_p\">Ми реалізовуємо лише підтримку PostgreSQL з використанням більшості доступних особливостей цієї ОСУБД.</p>&#10;&#10;<h2 class=\"bb_h2\">php 7</h2>&#10;<p class=\"bb_p\">Зрозуміло, що використання php останньої версії не новинка в сфері написання коду, але як і з CSP важливими є налаштування. Переведемо PHP  в режим коли розробнику не сходять з рук дрібні помилки:</p>&#10;<code class="bb_code">error&lowbar;reporting &lpar; E&lowbar;ALL &rpar;&semi;</code>&#10;<p class=\"bb_p\">і ситуація буде такою ж як і з CSP - знайти CMS, яка працюватиме, буде вкрай складно, а в "production" тільки після власноручного допилювання.</p>&#10;<h2 class=\"bb_h2\">Шаблони</h2>&#10;<p class=\"bb_p\">Хто користувався різними CMS мабуть неодноразово помічав, що іноді розробники спрощують метод виведення інформації в шаблон, розміщуючи в останньому елементи PHP. В такому випадку, розробка шаблону для власного сайту є задачею не по зубах для людини, яка не володіє необхідною мовою програмування.</p>&#10;<p class=\"bb_p\">Ми використовуємо чисті HTML шаблони, інформація в які вноситься за кодовими мітками. Це не новинка, але це важливо.</p>&#10;<h2 class=\"bb_h2\">Використання серверної пам''яті</h2>&#10;<p class=\"bb_p\">Наш результат - до 1Mb при завантаженні будь-якої сторінки сайту.</p>', "svector" = '', "keywords" = '', "posted" = '1', "fixed" = '0', "static" = '0', "category" = '1' WHERE id='3' RETURNING id;
--------------------------------
2018.09.20 15:04:05:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:04:05:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:04:05:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:04:05:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:04:05:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:04:05:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 15:04:11:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:04:11:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:04:11:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:04:12:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:04:12:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:04:12:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:04:13:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:04:13:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:04:13:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:04:13:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:04:13:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:04:13:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:04:18:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:04:18:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:04:18:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:04:18:
--------------------------------
UPDATE posts SET "title" = 'Навіщо ще одна CMS?', "alt_title" = 'navishho_shhe_odna_sistema_keruvannya_kontentom', "descr" = '', "short_post" = 'Це питання особисто мені задають всі хто вперше дізнається про розробку чогось нового. Особливо якщо людина знайома з поняттям CMS. Але все не так просто, як здається на перший погляд...&#10;&#10;<img class="post_img" src="/uploads/images/2018-09-20/15-03-59-a1f10908.png" alt="" title="" />', "full_post" = '<p class=\"bb_p\">За основу можна взяти будь-що, але видивитись переваги й недоліки можна тільки після детального аналізу роботи. Якщо глянути список доступних для використання CMS, то бере сумнів в тому, що ніхто раніше не реалізовував щось подібне. Але... Є нюанси!</p>&#10;<h2 class=\"bb_h2\">Content-Security-Policy</h2>&#10;<p class=\"bb_p\">CSP рекомендується консорціумом W3C. CSP намагаються використовувати web-гіганти, але натикаються на проблеми, що витікають з принципу базової розробки. А в сфері систем керування контентом ситуація значно гірша. Встановіть CSP на найвищий рівень:</p>&#10;<code class="bb_code">Content-Security-Policy&colon; default-src &apos;self&apos;&semi;</code>&#10;<p class=\"bb_p\">і ви не знайдете CMS, яка б адекватно працювала. Про роботу в режимі "production" мова не заводиться взагалі.</p>&#10;<h2 class=\"bb_h2\">PostgreSQL</h2>&#10;<p class=\"bb_p\">Більшість розробників CMS, з метою підтримки якомога більшої кількості СУБД, користуються лише тими функціональними можливостями, які притаманні всім СУБД. Інші ж реалізовують лише підтримку MySQL.</p>&#10;<p class=\"bb_p\">Мати в розпорядженні СУБД, але користуватись тільки можливостями занесення/зчитування даних - безглуздо.</p>&#10;<p class=\"bb_p\">Ми реалізовуємо лише підтримку PostgreSQL з використанням більшості доступних особливостей цієї ОСУБД.</p>&#10;&#10;<h2 class=\"bb_h2\">php 7</h2>&#10;<p class=\"bb_p\">Зрозуміло, що використання php останньої версії не новинка в сфері написання коду, але як і з CSP важливими є налаштування. Переведемо PHP  в режим коли розробнику не сходять з рук дрібні помилки:</p>&#10;<code class="bb_code">error&lowbar;reporting &lpar; E&lowbar;ALL &rpar;&semi;</code>&#10;<p class=\"bb_p\">і ситуація буде такою ж як і з CSP - знайти CMS, яка працюватиме, буде вкрай складно, а в "production" тільки після власноручного допилювання.</p>&#10;<h2 class=\"bb_h2\">Шаблони</h2>&#10;<p class=\"bb_p\">Хто користувався різними CMS мабуть неодноразово помічав, що іноді розробники спрощують метод виведення інформації в шаблон, розміщуючи в останньому елементи PHP. В такому випадку, розробка шаблону для власного сайту є задачею не по зубах для людини, яка не володіє необхідною мовою програмування.</p>&#10;<p class=\"bb_p\">Ми використовуємо чисті HTML шаблони, інформація в які вноситься за кодовими мітками. Це не новинка, але це важливо.</p>&#10;<h2 class=\"bb_h2\">Використання серверної пам''яті</h2>&#10;<p class=\"bb_p\">Наш результат - до 1Mb при завантаженні будь-якої сторінки сайту.</p>', "svector" = '', "keywords" = '', "posted" = '1', "fixed" = '0', "static" = '0', "category" = '1' WHERE id='3' RETURNING id;
--------------------------------
2018.09.20 15:04:18:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:04:18:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:04:18:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:04:18:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:04:18:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:04:18:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 15:04:27:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:04:27:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:04:27:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:04:27:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 2 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:04:27:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 2 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:04:27:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (2) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 15:04:30:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:04:30:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:04:30:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:04:30:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:04:30:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:04:30:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:04:33:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:04:34:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:04:34:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:04:34:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 3 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:04:34:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 3 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:04:34:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (3) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 15:04:45:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:04:45:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:04:45:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:04:46:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:04:46:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:04:46:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:04:47:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:04:47:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:04:47:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:04:47:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:04:47:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:04:47:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:04:58:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:04:58:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:04:58:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:04:58:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:04:58:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:04:58:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:05:06:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:05:06:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:05:06:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:05:20:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:05:20:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:05:20:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:07:11:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:07:11:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:07:11:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:07:11:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:07:11:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:07:11:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 15:07:12:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:07:12:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:07:12:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:07:12:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.id = 2 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:07:12:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.id = 2 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:07:12:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (2) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 15:07:16:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:07:16:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:07:16:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:07:16:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:07:16:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:07:16:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:07:16:
--------------------------------
SELECT * FROM images WHERE post_id=2 ORDER BY load_time DESC;
--------------------------------
2018.09.20 15:07:16:
--------------------------------
SELECT * FROM files WHERE post_id=2 ORDER BY load_time DESC;
--------------------------------
2018.09.20 15:07:27:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:07:27:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:07:27:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:07:27:
--------------------------------
SELECT COUNT(md5) as count FROM images WHERE md5='d5b374573ca214500287a69f4c0b3484';
--------------------------------
2018.09.20 15:07:27:
--------------------------------
INSERT INTO images ("post_id", "md5", "user_id", "serv_name", "load_time", "is_mini") VALUES ('2', 'd5b374573ca214500287a69f4c0b3484', '1', '15-07-27-3240a001.png', '2018-09-20 15:07:27', '0');
--------------------------------
2018.09.20 15:07:27:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:07:27:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:07:27:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:07:27:
--------------------------------
SELECT * FROM images WHERE post_id=2 ORDER BY load_time DESC;
--------------------------------
2018.09.20 15:07:27:
--------------------------------
SELECT * FROM files WHERE post_id=2 ORDER BY load_time DESC;
--------------------------------
2018.09.20 15:07:33:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:07:33:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:07:33:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:07:33:
--------------------------------
UPDATE posts SET "title" = 'define', "alt_title" = 'define', "descr" = '', "short_post" = 'В даній публікації я познайомлю Вас з деякими парадигмами, константами CMS яку ми пишемо.&#10;&#10;<img class="post_img" src="/uploads/images/2018-09-20/15-07-27-3240a001.png" alt="" title="" />', "full_post" = '<code class="bb_code">define&lpar; &apos;open&lowbar;source&apos;&comma; true &rpar;&semi;</code>&#10;<p class=\"bb_p\">Дана CMS є розробкою з відкритим вихідним кодом, тобто кожен бажаючий може використовувати її в власних цілях. Група розробників сайту "cmska.org" залишає за собою право розробки та супроводу даного програмного продукту.</p>&#10;<br>&#10;<code class="bb_code">define&lpar; &apos;language&apos;&comma; &apos;&Ucy;&kcy;&rcy;&acy;&yicy;&ncy;&scy;&softcy;&kcy;&acy;&apos; &rpar;&semi;</code>&#10;<p class=\"bb_p\">Розробники "cmska.org" є громадянами України, а тому на даному ресурсі та в розробці використовується лише Українська мова.</p>&#10;<br>&#10;<code class="bb_code">define&lpar; &apos;security&lowbar;level&apos;&comma; &apos;&Ncy;&acy;&jcy;&vcy;&icy;&shchcy;&icy;&jcy;&apos; &rpar;&semi;</code>&#10;<p class=\"bb_p\">В своїй діяльності розробники керуються принципом максимальної захищеності як користувачів так і сайту. З метою здійснення цього принципу розробники зобов''язуються в межах своєї компетенції використовувати всі методи підвищення рівня захисту.</p>', "svector" = '', "keywords" = '', "posted" = '1', "fixed" = '0', "static" = '0', "category" = '1' WHERE id='2' RETURNING id;
--------------------------------
2018.09.20 15:07:34:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:07:34:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:07:34:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:07:34:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:07:34:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:07:34:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 15:22:34:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:22:34:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:22:34:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:22:34:
--------------------------------

            SELECT *
            FROM
                admin_menu
            WHERE
                id > 0
                AND
                id IN ( SELECT item_id FROM admin_menu_accesses WHERE group_id = 1 )
            ORDER by level, position;
--------------------------------
2018.09.20 15:22:34:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:22:34:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:22:34:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 15:22:36:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:22:36:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:22:36:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:22:36:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.id = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:22:36:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.id = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:22:36:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 15:22:39:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:22:39:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:22:39:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:22:39:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:22:39:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:22:39:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:22:39:
--------------------------------
SELECT * FROM images WHERE post_id=1 ORDER BY load_time DESC;
--------------------------------
2018.09.20 15:22:39:
--------------------------------
SELECT * FROM files WHERE post_id=1 ORDER BY load_time DESC;
--------------------------------
2018.09.20 15:22:47:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:22:47:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:22:47:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:22:47:
--------------------------------
SELECT COUNT(md5) as count FROM images WHERE md5='255113cbf69316682757ab092c5d9915';
--------------------------------
2018.09.20 15:22:47:
--------------------------------
INSERT INTO images ("post_id", "md5", "user_id", "serv_name", "load_time", "is_mini") VALUES ('1', '255113cbf69316682757ab092c5d9915', '1', '15-22-47-22678c58.png', '2018-09-20 15:22:47', '0');
--------------------------------
2018.09.20 15:22:47:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:22:47:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:22:47:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:22:47:
--------------------------------
SELECT * FROM images WHERE post_id=1 ORDER BY load_time DESC;
--------------------------------
2018.09.20 15:22:47:
--------------------------------
SELECT * FROM files WHERE post_id=1 ORDER BY load_time DESC;
--------------------------------
2018.09.20 15:22:52:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:22:52:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:22:52:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:22:52:
--------------------------------
UPDATE posts SET "title" = 'Нова розробка - нова історія', "alt_title" = 'nova_rozrobka_cms_z_visokim_rivnem_zahistu', "descr" = '', "short_post" = 'Це перша публікація в даній CMS. В ній я розповім про нову структуру, можливості та особливості сайту. Також постараюсь трішки торкнутись історії та розповім про причини створення даного ресурсу.&#10;&#10;<img class="post_img" src="/uploads/images/2018-09-20/15-22-47-22678c58.png" alt="" title="" />', "full_post" = '<p class=\"bb_p\">Розпочнемо мабуть з початку, а саме з причин створення як ресурсу в цілому так і його серверної частини. Доречі в рамках історичного екскурсу можуть зачіпатись теми, які багатьом припікають сраки, тому хто вже відчуває нестабільність температурного режиму - далі не читайте :)</p>&#10;&#10;<h2 class=\"bb_h2\">CMSka.org v.1.0 - <span class=\"bb_span\" title="Всім похуй">Nemo curat</span></h2>&#10;<p class=\"bb_p\">Історія ресурсу cmska.org розпочалась в далекому 2007 році з реєстрації доменного імені "cmska.org.ua". Спочатку це був аматорський сайт двох студентів, яким було просто цікаво дізнатись як працюють сайти. Наступним кроком була спеціалізація контенту - в якості каркасу для сайту було обрано CMS DLE (тоді ще не загиджений), а сам сайт цілком перетворено на сайт підтримки даної CMS.</p>&#10;<p class=\"bb_p\">Так тривало довго. Змінювався склад аматорів, змінювався зовнішній вигляд сайту, незмінною були лише домен та тематика. І тривало так до моменту виходу в світ першої розробки від одного з авторів "cmska.org.ua".</p>&#10;<p class=\"bb_p\">Перша розробка дала рушійну силу (WMZ) і розуміння того, що web-сфера не заповнена в необхідній мірі, а виходячи з того, що знайовся покупець на відверту аматорську роботу - web-сфера вимагала продовження.</p>&#10;&#10;<h2 class=\"bb_h2\">CMSka.org v.2.0 - <span class=\"bb_span\" title="Довіряй, але дивись кому">Fide, sed cui fidas, vide</span></h2>&#10;<p class=\"bb_p\">В 2009 році було придбано домен "cmska.org". На цей період авторський склад час від часу випускав модулі для CMS DLE та приймав активну участь у тодішньому main-stream - створення автоматизованої системи для швидкого і якісного генерування сайтів. Останнє заняття давало значну фінансову підтримку - вміння генерувати "унікальний" контент + володіння навичками SEO завжди давали гарний прибуток.</p>&#10;<p class=\"bb_p\">На початку 10-х серед авторського складу проекту cmska стався перший розкол - всі чотири учасники вирішили розпочати власний шлях... і жоден не хотів продовжувати попередню тематику. Причина проста - зі збільшенням популярності проекту, збільшувались і випадки витоку платного контенту, в результаті чого місяці розробки втрачали можливість бути оплачуваними. Тематика CMS DLE втратила актуальність як неоплачувана.</p>&#10;<p class=\"bb_p\">Весь проект, всі вихідні коди залишились в одного з співавторів - в мене. Я завжди притримувався ідей публічності та допомоги починаючим web-розробникам, а тому через деякий час після припинення діяльності було прийняте рішення "відродити" проект - продовжити створення унікального функціоналу та контенту. Але все ж слід приймати до уваги, що тематика "неофіційної підтримки" комерційного програмного засобу - ідея абсурдна. Тому...</p>&#10;&#10;<h2 class=\"bb_h2\">CMSka.org v.3.0 - <span class=\"bb_span\" title="Все змінюється, ніщо не зникає безслідно">Omnia mutantur, nihil interit</span></h2>&#10;<p class=\"bb_p\">З середини 2015 року було розпочато розробку нової CMS - некомерційного продукту з відкритим вихідним кодом, який би враховував не примхи й забаганки "project manager", а рекомендації щодо безпеки та продуктивності.</p>&#10;&#10;', "svector" = '', "keywords" = '', "posted" = '1', "fixed" = '0', "static" = '0', "category" = '1' WHERE id='1' RETURNING id;
--------------------------------
2018.09.20 15:22:54:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:22:54:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:22:54:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:22:54:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:22:54:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:22:54:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 15:22:54:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:22:54:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:22:54:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:06:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:06:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:06:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:06:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:23:06:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:23:06:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 15:23:29:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:29:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:29:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:29:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:29:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:29:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:34:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:34:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:34:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:34:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 3 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:23:34:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 3 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:23:34:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (3) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 15:23:37:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:37:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:37:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:37:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:37:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:37:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:45:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:46:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:46:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:46:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:46:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:46:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:47:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:47:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:47:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:47:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:47:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:47:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:48:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:48:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:48:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:48:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:48:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:48:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:49:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:49:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:49:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:49:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 13 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:23:49:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 13 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:23:49:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 15:23:49:
--------------------------------
SELECT * FROM files WHERE md5 = 'e3fc5cea3153f5864423a48f617c93d0';  -- %QUERY_CACHABLE
--------------------------------
2018.09.20 15:23:50:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:50:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:50:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:50:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:50:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:50:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:53:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:53:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:53:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:53:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:53:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:53:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:54:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:54:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:54:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:54:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:54:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:54:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:55:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:55:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:55:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:55:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:55:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:55:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:56:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:56:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:56:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:56:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:56:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:56:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:57:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:57:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:57:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:57:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:57:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:57:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:58:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:58:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:58:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:58:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:58:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:58:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:59:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:59:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:59:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:23:59:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:23:59:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:23:59:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:33:28:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:33:28:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:33:28:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:33:28:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:33:28:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:33:28:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:33:30:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:33:30:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:33:30:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:33:30:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 4 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:33:30:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 4 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:33:30:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (4) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 15:33:31:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:33:31:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:33:31:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:33:35:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:33:35:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:33:35:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:33:35:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:33:35:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:33:35:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:35:23:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:35:23:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:35:23:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:35:23:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.id = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:35:23:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.id = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:35:23:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 15:35:24:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:35:24:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:35:24:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:36:16:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:36:16:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:36:16:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:36:38:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:36:38:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:36:38:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:36:56:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:36:56:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:36:56:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:36:57:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:36:57:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:36:57:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:37:08:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:37:08:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:37:08:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:37:10:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:37:10:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:37:10:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:37:11:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:37:11:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:37:11:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:37:13:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:37:13:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:37:13:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:37:26:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:37:26:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:37:26:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:37:26:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id = 1 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:37:26:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id = 1 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 15:37:26:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 15:37:29:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:37:29:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:37:29:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:37:30:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:37:30:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:37:30:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:37:30:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:37:30:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:37:30:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:37:33:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:37:33:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:37:33:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:37:35:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:37:35:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:37:35:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:37:35:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:37:35:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:37:35:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:37:36:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:37:37:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:37:37:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:37:41:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:37:41:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:37:41:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:37:41:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:37:41:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:37:41:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:37:42:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:37:42:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:37:42:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 15:37:42:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 15:37:42:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 15:37:42:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 16:58:45:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 16:58:45:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 16:58:45:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 16:58:45:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 16:58:45:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 16:58:45:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 16:58:45:
--------------------------------
SELECT * FROM categories ORDER BY level;  -- %QUERY_CACHABLE
--------------------------------
2018.09.20 16:58:45:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 16:58:45:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 16:58:45:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 16:58:45:
--------------------------------
SELECT 
	users.id as "user.id",
	users.login as "user.login",
	users.email as "user.email",
	users.group_id as "user.group_id"
FROM users as users 
WHERE users.id = 1
ORDER by users.id; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 17:01:36:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:01:36:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:01:36:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:01:36:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 13 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 17:01:36:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 13 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 17:01:36:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 17:01:36:
--------------------------------
SELECT * FROM files WHERE md5 = 'e3fc5cea3153f5864423a48f617c93d0';  -- %QUERY_CACHABLE
--------------------------------
2018.09.20 17:02:04:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:02:04:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:02:04:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:02:04:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:02:04:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:02:04:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:03:27:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:03:27:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:03:27:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:03:28:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:03:28:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:03:28:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:03:46:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:03:46:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:03:46:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:03:47:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:03:47:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:03:47:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:04:04:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:04:04:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:04:04:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:04:15:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:04:15:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:04:15:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:04:22:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:04:22:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:04:22:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:04:29:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:04:29:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:04:29:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:05:03:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:05:03:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:05:03:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:05:05:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:05:05:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:05:05:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:05:48:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:05:48:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:05:48:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:05:48:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:05:48:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:05:48:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:05:50:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:05:50:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:05:50:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:05:53:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:05:53:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:05:53:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:05:53:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:05:53:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:05:53:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:05:54:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:05:54:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:05:54:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:05:56:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:05:56:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:05:56:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:05:56:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:05:56:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:05:56:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:05:59:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:05:59:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:05:59:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:05:59:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 17:05:59:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email", 
	posts.full_post as "post.full_post"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 AND
	posts.id = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 1
--------------------------------
2018.09.20 17:05:59:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 17:06:06:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:06:06:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:06:06:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:06:07:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:06:07:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:06:07:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:06:07:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:06:07:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:06:07:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:06:08:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:06:08:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:06:08:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:06:09:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:06:09:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:06:09:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:06:09:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:06:09:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:06:09:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:06:10:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:06:10:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:06:10:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:07:17:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:07:17:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:07:17:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:07:17:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:07:17:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:07:17:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:07:25:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:07:25:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:07:25:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:07:29:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:07:29:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:07:29:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:44:25:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:44:25:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:44:25:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:44:25:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:44:25:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:44:25:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:50:54:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:50:54:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:50:54:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:50:54:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:50:54:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:50:54:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:50:59:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:50:59:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:50:59:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:00:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:00:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:00:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:01:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:01:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:01:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:01:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:01:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:01:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:04:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:04:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:04:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:04:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:04:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:04:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:05:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:05:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:05:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:05:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:05:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:05:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:06:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:06:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:06:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:06:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:06:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:06:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:07:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:07:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:07:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:07:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:07:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:07:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:10:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:10:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:10:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:10:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:10:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:10:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:11:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:11:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:11:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:11:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:11:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:11:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:16:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:16:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:16:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:16:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:16:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:16:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:27:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:27:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:27:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:27:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:27:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:27:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:39:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:39:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:39:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:39:
--------------------------------

            SELECT *
            FROM
                admin_menu
            WHERE
                id > 0
                AND
                id IN ( SELECT item_id FROM admin_menu_accesses WHERE group_id = 1 )
            ORDER by level, position;
--------------------------------
2018.09.20 17:51:39:
--------------------------------
SELECT id, last_ip FROM users WHERE token='530dcd3c2aacc900d57df37597caf391' AND last_ip='192.168.2.104' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 17:51:39:
--------------------------------
UPDATE users SET last_ip='192.168.2.104' WHERE id = 1;
--------------------------------
2018.09.20 17:51:39:
--------------------------------
SELECT * FROM users WHERE id = 1;
--------------------------------
2018.09.20 17:51:39:
--------------------------------
SELECT pg_size_pretty(pg_database_size('cmska.org')) as size;
--------------------------------
2018.09.20 19:51:13:
--------------------------------
SELECT id, last_ip FROM users WHERE token='242757013206b715e2167ffbb32e75f0' AND last_ip='185.103.42.10' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 19:51:13:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 0
--------------------------------
2018.09.20 19:51:13:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 0
--------------------------------
2018.09.20 19:51:13:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 19:51:13:
--------------------------------
SELECT * FROM categories ORDER BY level;  -- %QUERY_CACHABLE
--------------------------------
2018.09.20 19:51:14:
--------------------------------
SELECT id, last_ip FROM users WHERE token='242757013206b715e2167ffbb32e75f0' AND last_ip='185.103.42.10' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 19:51:20:
--------------------------------
SELECT id, last_ip FROM users WHERE token='242757013206b715e2167ffbb32e75f0' AND last_ip='185.103.42.10' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 19:51:20:
--------------------------------
SELECT id, last_ip FROM users WHERE token='242757013206b715e2167ffbb32e75f0' AND last_ip='185.103.42.10' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 19:51:22:
--------------------------------
SELECT id, last_ip FROM users WHERE token='242757013206b715e2167ffbb32e75f0' AND last_ip='185.103.42.10' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 19:51:22:
--------------------------------
SELECT id, last_ip FROM users WHERE token='242757013206b715e2167ffbb32e75f0' AND last_ip='185.103.42.10' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 19:52:04:
--------------------------------
SELECT id, last_ip FROM users WHERE token='242757013206b715e2167ffbb32e75f0' AND last_ip='185.103.42.10' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 20:01:20:
--------------------------------
SELECT id, last_ip FROM users WHERE token='242757013206b715e2167ffbb32e75f0' AND last_ip='185.103.42.10' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 20:01:20:
--------------------------------
SELECT id, last_ip FROM users WHERE token='242757013206b715e2167ffbb32e75f0' AND last_ip='185.103.42.10' LIMIT 1 OFFSET 0;
--------------------------------
2018.09.20 23:03:42:
--------------------------------
SELECT 
 count( posts.id ) as count 
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 

 ;
-- %QUERY_CACHABLE
-- USER_ID: 0
--------------------------------
2018.09.20 23:03:42:
--------------------------------
SELECT 
-- SELECT 
	posts.id as "post.id", 
	posts.title as "post.title", 
	posts.alt_title as "post.alt_title", 
	posts.descr as "post.descr", 
	posts.short_post as "post.short_post", 
	posts.author_id as "post.author_id", 
	posts.created_time as "post.created_time", 
	posts.keywords as "post.keywords", 
	posts.posted as "post.posted", 
	posts.fixed as "post.fixed", 
	posts.static as "post.static", 
	categ.id as "categ.id", 
	categ.altname as "categ.altname", 
	categ.name as "categ.name", 
	usr.login as "usr.login", 
	usr.email as "usr.email"
-- SELECT
FROM 
	posts
	LEFT JOIN categories as categ ON ( categ.id = posts.category )
	LEFT JOIN posts_tags as ptags ON ( ptags.post_id = posts.id AND ptags.tag_id > 0 )
	LEFT JOIN users as usr ON ( usr.id = posts.author_id )
WHERE 
	posts.id > 0 AND
	categ.id > 0 AND
	posts.posted = 1 
-- ORDER
ORDER BY posts.posted ASC, posts.fixed DESC, posts.created_time DESC 
-- ORDER
OFFSET 0 LIMIT 10;
-- %QUERY_CACHABLE
-- USER_ID: 0
--------------------------------
2018.09.20 23:03:42:
--------------------------------
SELECT tg.*, ptags.post_id FROM tags as tg LEFT JOIN posts_tags as ptags ON (tg.id = ptags.tag_id) WHERE tg.id > 0 AND ptags.post_id IN (13,4,3,2,1) ORDER by tg.name; -- %QUERY_CACHABLE
--------------------------------
2018.09.20 23:03:42:
--------------------------------
SELECT * FROM categories ORDER BY level;  -- %QUERY_CACHABLE
--------------------------------
